(()=>{"use strict";var e={p:""};e.p;class t{constructor(e){this.data=e,this.content=document.getElementById("conten")}renderTemp(){this.content.innerHTML="";const e=document.createElement("h1");e.className="city-title";const t=document.createElement("p"),n=document.createElement("p");e.innerHTML=this.data.city,t.innerHTML=`Temp: ${this.data.temperature}`,t.id="main-temp",t.className="temp-container",n.innerHTML=`Fells like: ${this.data.feels_like}`,n.className="temp-container",n.id="feels-temp",this.content.append(e),this.content.append(t),this.content.append(n)}static fFormula(e){return`${Math.round(1.8*Number(e)+32)} 째`}static cFormula(e){return`${Math.round((Number(e)-32)*(5/9))} 째`}static callTemps(e){const t=document.getElementById("main-temp"),n=document.getElementById("feels-temp"),r=n.innerHTML.split(" ")[2],a=t.innerHTML.split(" ")[1];return t.innerHTML=`Temp: ${e(a)}`,n.innerHTML=`Fells like: ${e(r)}`,t}static convertToF(){return t.callTemps(t.fFormula)}static convertToC(){return t.callTemps(t.cFormula)}static checkDegrees(){"C"===this.innerHTML?(t.convertToF(),this.innerHTML="F"):(t.convertToC(),this.innerHTML="C")}renderDegrees(){const e=document.getElementById("type"),n=document.createElement("button");n.id="degrees",n.className="degrees",n.innerHTML=this.data.type,n.addEventListener("click",t.checkDegrees),e.append(n)}renderHumidity(){const e=document.createElement("p");e.innerHTML=`Humidity: ${this.data.humidity}`,e.className="temp-container",this.content.append(e)}renderclimate(){const e=document.createElement("p");e.innerHTML=`Climate: ${this.data.climate}`,e.className="climate-image";const t=document.createElement("img");t.src=`http://openweathermap.org/img/wn/${this.data.icon}@4x.png`,this.content.append(e),this.content.append(t)}}const n=t;class r{constructor(){this.container=document.getElementById("container"),this.errors=document.getElementById("errors"),this.defaultCity="Cartagena"}static renderCall(e){const t=new n(e);t.renderDegrees(),t.renderTemp(),t.renderHumidity(),t.renderclimate()}static weatherCall(e){r.renderCall({city:"Cartagena",climate:"few clouds",feels_like:"30 째",humidity:70,icon:"02d",temperature:"29 째",type:"C"})}createForm(){r.weatherCall(this.defaultCity);const e=document.createElement("form"),t=document.createElement("input"),n=document.createElement("button");return this.container.className="form-container",e.action="/home",e.id="from-city",t.type="text",t.name="city",t.placeholder="Type a city",n.innerHTML="Submit",n.type="submit",e.append(t),e.append(n),this.container.append(e),e}inputValidation(e){if(!e){this.errors.innerHTML="",this.errors.className="d-none";const e=document.createElement("p");return document.getElementById("blank-error")?(e.innerHTML="City can't be blank",this.errors.append(e)):(this.errors.className="form-error",e.id="blank-error",e.innerHTML="City can't be blank",this.errors.append(e)),!1}return!0}sumitInfo(){const e=document.getElementById("from-city");e.addEventListener("submit",(t=>{t.preventDefault();const n=e.elements.city;if(n.value){this.errors.innerHTML="",this.errors.className="d-none";const e=document.getElementById("degrees");e&&e.remove()}this.inputValidation(n.value)&&(r.weatherCall(n),n.value="")}))}}const a=new r;a.createForm(),a.sumitInfo()})();